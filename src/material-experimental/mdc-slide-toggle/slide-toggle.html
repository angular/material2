<div class="mdc-form-field"
     [class.mdc-form-field--align-end]="labelPosition == 'before'">
  <div class="mdc-switch mat-mdc-switch" #switch>
    <div class="mdc-switch__track"></div>
    <div class="mdc-switch__thumb-underlay mat-mdc-focus-indicator">
      <!--
        Note that we use the input as the ripple target, because some screen readers have a
        behavior where any parent of an input that has a `mousedown` or `click` listener is
        considered as being "clickable", causing the screen reader to read out "clickable" before
        the label. MDC stretches the input to the size of the slide toggle so we can bind to it
        directly for the same result. See https://github.com/nvaccess/nvda/issues/7430
      -->
      <div class="mat-mdc-slide-toggle-ripple" mat-ripple
        [matRippleTrigger]="input"
        [matRippleDisabled]="disableRipple || disabled"
        [matRippleCentered]="true"
        [matRippleAnimation]="_rippleAnimation"></div>
      <div class="mdc-switch__thumb">
          <input #input class="mdc-switch__native-control" type="checkbox"
            role="switch"
            [id]="inputId"
            [required]="required"
            [tabIndex]="tabIndex"
            [checked]="checked"
            [disabled]="disabled"
            [attr.name]="name"
            [attr.aria-checked]="checked.toString()"
            [attr.aria-label]="ariaLabel"
            [attr.aria-labelledby]="ariaLabelledby"
            [attr.aria-describedby]="ariaDescribedby"
            (change)="_onChangeEvent($event)"
            (click)="_onInputClick($event)">
      </div>
    </div>
  </div>

  <label [for]="inputId">
    <ng-content></ng-content>
  </label>
</div>
