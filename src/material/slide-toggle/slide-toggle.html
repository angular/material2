<label [attr.for]="inputId" class="mat-slide-toggle-label" #label>
  <div #toggleBar class="mat-slide-toggle-bar"
       [class.mat-slide-toggle-bar-no-side-margin]="!labelContent.textContent || !labelContent.textContent.trim()">

    <div class="mat-slide-toggle-thumb-container" #thumbContainer>
      <div class="mat-slide-toggle-thumb"></div>
      <div class="mat-slide-toggle-ripple mat-focus-indicator" mat-ripple
           [matRippleTrigger]="label"
           [matRippleDisabled]="disableRipple || disabled"
           [matRippleCentered]="true"
           [matRippleRadius]="20"
           [matRippleAnimation]="{enterDuration: _noopAnimations ? 0 : 150}">

        <div class="mat-ripple-element mat-slide-toggle-persistent-ripple"></div>
      </div>
    </div>

  </div>

  <span class="mat-slide-toggle-content" #labelContent (cdkObserveContent)="_onLabelTextChange()">
    <!-- Add an invisible span so JAWS can read the label -->
    <span style="display:none">&nbsp;</span>
    <ng-content></ng-content>
  </span>
</label>

<!--
  Note that the input is placed outside of the ripple container, because some screen readers have a
  behavior where any parent of an input that has a `mousedown` or `click` listener is
  considered as being "clickable", causing the screen reader to read out "clickable" before
  the label. Since the input is invisible, it doesn't really matter where we place it.
  See https://github.com/nvaccess/nvda/issues/7430
 -->
<input #input class="mat-slide-toggle-input cdk-visually-hidden" type="checkbox"
  role="switch"
  [id]="inputId"
  [required]="required"
  [tabIndex]="tabIndex"
  [checked]="checked"
  [disabled]="disabled"
  [attr.name]="name"
  [attr.aria-checked]="checked.toString()"
  [attr.aria-label]="ariaLabel"
  [attr.aria-labelledby]="ariaLabelledby"
  [attr.aria-describedby]="ariaDescribedby"
  (change)="_onChangeEvent($event)"
  (click)="_onInputClick($event)">
